<div class="container mt-4">
    <h2 class="text-center text-primary">Person List</h2>
  
    <!-- Search Bar -->
    <div class="mb-3">
      <input type="text" class="form-control" [(ngModel)]="searchTerm" placeholder="Search by ID, Surname, or Account Number">
    </div>
  
    <!-- Add New User Form -->
    <div class="card p-3 mb-4">
      <h4>Add New Person</h4>
      <div class="row">
        <div class="col-md-3">
          <label>ID:</label>
          <input type="number" class="form-control" [(ngModel)]="newPerson.id" required>
        </div>
        <div class="col-md-4">
          <label>Surname:</label>
          <input type="text" class="form-control" [(ngModel)]="newPerson.surname" required>
        </div>
        <div class="col-md-4">
          <label>Account Number:</label>
          <input type="text" class="form-control" [(ngModel)]="newPerson.accountNumber" required>
        </div>
        <div class="col-md-1 d-flex align-items-end">
          <button class="btn btn-success w-100" (click)="addPerson()">Add</button>
        </div>
      </div>
    </div>
  
    <!-- Person List -->
    <table class="table table-striped table-bordered">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Surname</th>
          <th>Account Number</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let person of filteredPersons" (click)="goToPersonDetails(person.id)" style="cursor: pointer;">
          <td>{{ person.id }}</td>
          <td>{{ person.surname }}</td>
          <td>{{ person.accountNumber }}</td>
          <td>
            <button class="btn btn-primary btn-sm me-2" (click)="editPerson(person); $event.stopPropagation();">Edit</button>
            <button class="btn btn-danger btn-sm" (click)="deletePerson(person.id); $event.stopPropagation();">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  
    <!-- Edit Form -->
    <div *ngIf="editingPerson" class="card p-3">
      <h4>Edit Person</h4>
      <div class="row">
        <div class="col-md-4">
          <label>ID:</label>
          <input type="text" class="form-control" [value]="editingPerson.id" disabled>
        </div>
        <div class="col-md-4">
          <label>Surname:</label>
          <input type="text" class="form-control" [(ngModel)]="editingPerson.surname">
        </div>
        <div class="col-md-4">
          <label>Account Number:</label>
          <input type="text" class="form-control" [(ngModel)]="editingPerson.accountNumber">
        </div>
      </div>
      <div class="mt-3">
        <button class="btn btn-success me-2" (click)="savePerson()">Save</button>
        <button class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
      </div>
    </div>
  </div>
